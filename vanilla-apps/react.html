<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>React</title>
</head>
<body>
	<div id="app"></div>

	<script src="https://unpkg.com/react@16.0.0/umd/react.development.js"></script>

	<!-- A partir de React 15.5, React.createClass n'existe plus -->
	<script src="https://unpkg.com/create-react-class@15.6.0-rc.0/create-react-class.js"></script>
	<script src="http://unpkg.com/react-dom@16.0.0/umd/react-dom.development.js"></script>
	<script>
        // Ceci est un composant pur (il ne fait que afficher)
		var Value = function (props) {
            // La valeur est passée en prop donc immutable, il faire appel à une fonction fournie par le parent
            // Cependant si la valeur est modifiée par le parent la prop est mise à jour automatiquement
            return React.createElement('input', {value: props.value, onChange: props.updateValue});
        };

		var App = createReactClass({
			getInitialState: function () {
				return {
					value: 'Hello World'
				};
			},
			// Fonction utilisée par le parent et l'enfant
			updateValue: function (event) {
				this.setState({value: event.target.value});

			},
			render: function () {
                // Doit retourner un élément unique
				return React.createElement('div', null, // Utilise une div car l'input ne peut contenir un noeud (le composant value)
					React.createElement('input', {value: this.state.value, onChange: this.updateValue}),

                    // L'enfant ne peut pas modifier la valeur (prop)
                    // donc le parent doit modifier le state à sa place
                    // et lui fournir une fonction pour déclencher la modification
					React.createElement(Value, {value: this.state.value, updateValue: this.updateValue})
				);
			}
		});

		ReactDOM.render(
			React.createElement(App),
			document.getElementById('app')
		);
	</script>
</body>
</html>